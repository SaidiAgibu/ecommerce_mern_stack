{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/ProductDetails/ProductDetails.jsx\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport \"./ProductDetails.css\";\nimport Carousel from 'react-material-ui-carousel';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getProductDetails, clearErrors } from '../../actions/productAction';\nimport { addItemsToCart } from '../../actions/cartAction';\nimport ReactStars from 'react-rating-stars-component';\nimport ReviewCard from './ReviewCard';\nimport Loader from '../Loader/Loader';\nimport { useAlert } from 'react-alert';\nimport MetaData from '../layout/MetaData';\nimport { Dialog, DialogActions, DialogContent, DialogTitle } from '@material-ui/core';\nimport { Rating } from '@material-ui/lab';\n\nconst ProductDetails = ({\n  match\n}) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const {\n    product,\n    loading,\n    error\n  } = useSelector(state => state.productDetails);\n  useEffect(() => {\n    if (error) {\n      return alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    dispatch(getProductDetails(match.params.id));\n  }, [dispatch, match.params.id, error, alert]);\n  const options = {\n    edit: false,\n    color: \"rgba(20,20,20,0.1)\",\n    activeColor: \"tomato\",\n    size: window.innerWidth < 600 ? 20 : 25,\n    value: product.ratings,\n    isHalf: true\n  };\n  const [quantity, setQuantity] = useState(1);\n  const [open, setOpen] = useState(false);\n\n  const increasequantity = () => {\n    if (product.Stock <= quantity) return;\n    const qty = quantity + 1;\n    setQuantity(qty);\n  };\n\n  const decreasequantity = () => {\n    if (1 >= quantity) return;\n    const qty = quantity - 1;\n    setQuantity(qty);\n  };\n\n  const addToCartHandler = () => {\n    dispatch(addItemsToCart(match.params.id, quantity));\n    alert.success(\"Item added to Cart\");\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MetaData, {\n    title: product.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 18\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, product.images && product.images.map((item, i) => /*#__PURE__*/React.createElement(\"img\", {\n    className: \"CarouselImage\",\n    key: item.url,\n    src: item.url,\n    alt: `${i} Slide`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Product # \", product._id)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReactStars, Object.assign({}, options, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, \"(\", product.numOfReviews, \" Reviews)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, `$${product.price}`), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailBlock-3-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-3-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: decreasequantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"input\", {\n    readOnly: true,\n    value: quantity,\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: increasequantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, \"+\")), \" \", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    disabled: product.Stock < 1 ? true : false,\n    className: \"submitReview\",\n    onClick: addToCartHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Add to Cart\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Status: \", \" \", /*#__PURE__*/React.createElement(\"b\", {\n    className: product.Stock < 1 ? \"redColor\" : \"greenColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, product.Stock < 1 ? \"OutOfStock\" : \"InStock\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Description : \", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }, product.description)), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submitReview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Submit Review\"))), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"reviewsHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, \"REVIEWS\"), /*#__PURE__*/React.createElement(Dialog, {\n    \"aria-labelledby\": \"simple-dialog-title\",\n    open: open,\n    onClose: submitReviewTogge,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Submit Review\"), /*#__PURE__*/React.createElement(DialogContent, {\n    className: \"submitDialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    onChange: e => setRating(e.target.value),\n    value: rating,\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"submitDialogTextArea\",\n    cols: \"30\",\n    rows: \"5\",\n    value: comment,\n    onChange: e => setComment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Submit\"))), product.reviews && product.reviews[0] ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, product.reviews && product.reviews.map(review => /*#__PURE__*/React.createElement(ReviewCard, {\n    review: review,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 39\n    }\n  }))) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"noReviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, \"No Reviews Yet\")));\n};\n\nexport default ProductDetails;","map":{"version":3,"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/ProductDetails/ProductDetails.jsx"],"names":["React","Fragment","useEffect","useState","Carousel","useSelector","useDispatch","getProductDetails","clearErrors","addItemsToCart","ReactStars","ReviewCard","Loader","useAlert","MetaData","Dialog","DialogActions","DialogContent","DialogTitle","Rating","ProductDetails","match","dispatch","alert","product","loading","error","state","productDetails","params","id","options","edit","color","activeColor","size","window","innerWidth","value","ratings","isHalf","quantity","setQuantity","open","setOpen","increasequantity","Stock","qty","decreasequantity","addToCartHandler","success","name","images","map","item","i","url","_id","numOfReviews","price","description","submitReviewTogge","e","setRating","target","rating","comment","setComment","reviews","review"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react'\nimport \"./ProductDetails.css\";\nimport Carousel from 'react-material-ui-carousel';\nimport {useSelector, useDispatch} from 'react-redux';\nimport { getProductDetails, clearErrors } from '../../actions/productAction';\nimport {addItemsToCart} from '../../actions/cartAction';\nimport ReactStars from 'react-rating-stars-component'; \nimport ReviewCard from './ReviewCard';\nimport Loader from '../Loader/Loader';\nimport {useAlert} from 'react-alert';\nimport MetaData from '../layout/MetaData'\nimport { Dialog, DialogActions, DialogContent, DialogTitle } from '@material-ui/core';\nimport { Rating } from '@material-ui/lab';\n\nconst ProductDetails = ({match}) => {\n \n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const {product, loading, error} = useSelector(state => state.productDetails)\n\n  useEffect(() => {\n    if(error) {\n      return alert.error(error)\n      dispatch(clearErrors())\n    }\n    dispatch(getProductDetails(match.params.id))\n  }, [dispatch, match.params.id,error, alert])\n\n\n  const options = {\n    edit: false,\n    color: \"rgba(20,20,20,0.1)\",\n    activeColor: \"tomato\",\n    size: window.innerWidth< 600 ? 20 :25,\n    value: product.ratings,\n    isHalf:true,\n}\n  const [quantity, setQuantity] = useState(1);\n  const [open, setOpen] = useState(false);\n\n  const increasequantity = () => {\n    if(product.Stock <= quantity) return;\n\n    const qty = quantity + 1;\n    setQuantity(qty);\n  }\n\n  const decreasequantity = () => {\n    if(1 >= quantity) return;\n    const qty = quantity - 1;\n    setQuantity(qty);\n  }\n\n  const addToCartHandler = () => {\n    dispatch(addItemsToCart(match.params.id, quantity));\n    alert.success(\"Item added to Cart\");\n  }\n\n  return (\n    <Fragment>\n      <MetaData title={product.name} />\n      {loading ? <Loader /> : (\n        <Fragment>\n        <div className='ProductDetails'>\n          <div>\n            <Carousel>\n              {product.images && product.images.map((item, i) => (\n                <img \n                 className='CarouselImage'\n                 key={item.url}\n                 src={item.url}\n                 alt={`${i} Slide`}\n                />\n              ))}\n            </Carousel>\n          </div>\n          <div>\n            <div className=\"detailsBlock-1\">\n              <h2>{product.name}</h2>\n              <p>Product # {product._id}</p>\n            </div>\n            <div className=\"detailsBlock-2\">\n              <ReactStars {...options} />\n              <span>({product.numOfReviews} Reviews)</span>\n            </div>\n            <div className=\"detailsBlock-3\">\n              <h1>{`$${product.price}`}</h1>\n              <div className=\"detailBlock-3-1\">\n                <div className=\"detailsBlock-3-1-1\">\n                  <button onClick={decreasequantity}>-</button>\n                  <input readOnly value={quantity} type=\"number\" />\n                  <button onClick={increasequantity}>+</button>\n                </div> {\" \"}\n                <button disabled={product.Stock < 1 ? true : false} className=\"submitReview\" onClick={addToCartHandler}>Add to Cart</button>\n              </div>\n              <p>\n                Status: {\" \"}\n                <b className={product.Stock < 1 ? \"redColor\":\"greenColor\"}>\n                  {product.Stock < 1 ? \"OutOfStock\" : \"InStock\"}\n                </b>\n              </p>\n            </div>\n            <div className=\"detailsBlock-4\">\n              Description : <p>{product.description}</p>\n            </div>\n            <button className=\"submitReview\">Submit Review</button>\n          </div>\n        </div>\n        <h3 className=\"reviewsHeading\">REVIEWS</h3>\n        <Dialog\n        aria-labelledby='simple-dialog-title'\n        open={open}\n        onClose={submitReviewTogge}\n        >\n          <DialogTitle>\n            Submit Review\n          </DialogTitle>\n          <DialogContent className='submitDialog'>\n            <Rating\n            onChange={(e) => setRating(e.target.value)} value={rating} size='large' />\n            <textarea\n            className='submitDialogTextArea'\n            cols='30'\n            rows=\"5\"\n            value={comment}\n            onChange={(e) => setComment(e.target.value)}\n            ></textarea>\n          </DialogContent>\n          <DialogActions>\n            <Button>Cancel</Button>\n            <Button>Submit</Button>\n          </DialogActions>\n\n        </Dialog>\n    \n  {product.reviews && product.reviews[0] ? (\n    <div className=\"reviews\">\n      {product.reviews && \n      product.reviews.map((review) => <ReviewCard review={review} />)}\n    </div>\n  ) : (\n    <p className=\"noReviews\">No Reviews Yet</p>\n  )}  \n      </Fragment>\n      )}\n    </Fragment>\n  )\n}\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}