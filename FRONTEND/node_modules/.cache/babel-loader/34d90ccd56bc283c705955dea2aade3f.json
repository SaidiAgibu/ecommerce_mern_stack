{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Product/AllProducts.jsx\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport './AllProducts.css';\nimport Products from '../Product/Product';\nimport Loader from '../Loader/Loader';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProduct } from '../../actions/productAction';\nimport Pagination from 'react-js-pagination';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport { useAlert } from 'react-alert';\nimport { clearErrors } from '../../actions/productAction';\nconst categories = [\"Laptop\", \"Shoes\", \"Tops\", \"Camera\", \"food\"];\nconst AllProducts = _ref => {\n  let {\n    match\n  } = _ref;\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [category, setCategory] = useState(\"\");\n  const [rating, setRating] = useState(0);\n  const {\n    products,\n    loading,\n    error,\n    productsCount,\n    resultPerPage\n  } = useSelector(state => state.products);\n  const keyword = match.params.keyword;\n  const setCurrentPageNo = e => {\n    setCurrentPage(e);\n  };\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n    dispatch(getProduct(keyword, currentPage, category, rating));\n  }, [dispatch, keyword, currentPage, category, rating, alert, error]);\n\n  //let count = filteredProductsCount;\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"productsHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Products\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, products && products.map(product => /*#__PURE__*/React.createElement(Products, {\n    key: product._id,\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filterBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Categories\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"categoryBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, categories.map(category => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"category-link\",\n    key: category,\n    onClick: () => setCategory(category),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, category))), /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"Ratings Above\"), /*#__PURE__*/React.createElement(Slider, {\n    value: rating,\n    onChange: (e, newRating) => {\n      setRating(newRating);\n    },\n    \"aria-labelledby\": \"continuous-slider\",\n    min: 0,\n    max: 5,\n    valueLabelDisplay: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }))), resultPerPage < productsCount && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"paginationBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    activePage: currentPage,\n    itemsCountPerPage: resultPerPage,\n    totalItemsCount: productsCount,\n    onChange: setCurrentPageNo,\n    nextPageText: \"Next\",\n    prevPageText: \"Prev\",\n    firstPageText: \"1st\",\n    lastPageText: \"Last\",\n    itemClass: \"page-item\",\n    linkClass: \"page-link\",\n    activeClass: \"pageItemActive\",\n    activeLinkClass: \"pageLinkActive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 10\n    }\n  }))));\n};\nexport default AllProducts;","map":{"version":3,"names":["React","Fragment","useEffect","useState","Products","Loader","useDispatch","useSelector","getProduct","Pagination","Slider","Typography","useAlert","clearErrors","categories","AllProducts","match","dispatch","alert","currentPage","setCurrentPage","category","setCategory","rating","setRating","products","loading","error","productsCount","resultPerPage","state","keyword","params","setCurrentPageNo","e","map","product","_id","newRating"],"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Product/AllProducts.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport './AllProducts.css';\nimport Products from '../Product/Product';\nimport Loader from '../Loader/Loader';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProduct } from '../../actions/productAction';\nimport Pagination from 'react-js-pagination';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport {useAlert} from 'react-alert';\nimport {clearErrors} from '../../actions/productAction';\n\nconst categories = [\n    \"Laptop\",\n    \"Shoes\",\n    \"Tops\",\n    \"Camera\",\n    \"food\"\n]\n\nconst AllProducts = ({match}) => {\n    const dispatch = useDispatch();\n\n    const alert = useAlert()\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [category, setCategory] = useState(\"\")\n\n    const [rating, setRating] = useState(0)\n\n\n    const {products,loading,error, productsCount, resultPerPage} = useSelector(\n        (state) => state.products\n    );\n\n    const keyword = match.params.keyword;\n\n    const setCurrentPageNo = (e) => {\n        setCurrentPage(e)\n    }\n\n    \n\n    useEffect(() => {\n        if(error) {\n            alert.error(error);\n            dispatch(clearErrors())\n        }\n        dispatch(getProduct(keyword,currentPage,category,rating));\n    }, [dispatch, keyword,currentPage,category,rating,alert,error]);\n    \n    //let count = filteredProductsCount;\n\n  return (\n  <Fragment>\n    {loading ? (\n    <Loader /> \n    ): (\n    <Fragment>\n        <h2 className='productsHeading'>Products</h2>\n\n        <div className='products'>\n            {products &&\n            products.map((product) => (\n                <Products key={product._id} product={product} />\n            ))}\n        </div>\n\n        <div className='filterBox'>\n            <Typography>Categories</Typography>\n            <ul className=\"categoryBox\">\n                {categories.map((category) => (\n                    <li\n                    className='category-link'\n                    key={category}\n                    onClick={() => setCategory(category)}\n                    >\n                        {category}\n                    </li>\n                ))}\n            </ul>\n\n            <fieldset>\n                <Typography component=\"legend\">Ratings Above</Typography>\n                <Slider\n                value={rating}\n                onChange={(e,newRating) => {\n                    setRating(newRating);\n                }}\n                aria-labelledby=\"continuous-slider\"\n                min={0}\n                max={5}\n                valueLabelDisplay=\"auto\" />\n            </fieldset>\n            \n        </div>\n       \n       {resultPerPage < productsCount && (\n         <div className=\"paginationBox\">\n         <Pagination\n         activePage={currentPage}\n         itemsCountPerPage={resultPerPage}\n         totalItemsCount={productsCount}\n         onChange={setCurrentPageNo}\n         nextPageText=\"Next\"\n         prevPageText=\"Prev\"\n         firstPageText=\"1st\"\n         lastPageText=\"Last\"\n         itemClass='page-item'\n         linkClass='page-link'\n         activeClass='pageItemActive'\n         activeLinkClass='pageLinkActive'\n         />\n     </div>\n       )}\n        </Fragment>\n        )}\n  </Fragment>\n  );\n};\n\nexport default AllProducts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}