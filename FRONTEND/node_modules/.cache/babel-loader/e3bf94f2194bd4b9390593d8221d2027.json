{"ast":null,"code":"import React,{Fragment}from\"react\";import CheckoutSteps from\"./CheckoutSteps\";import{useSelector}from\"react-redux\";import MetaData from\"../layout/MetaData\";import\"./ConfirmOrder.css\";import{Link}from\"react-router-dom\";import{Typography}from\"@material-ui/core\";var ConfirmOrder=function ConfirmOrder(_ref){var history=_ref.history;var _useSelector=useSelector(function(state){return state.cart;}),shippingInfo=_useSelector.shippingInfo,cartItems=_useSelector.cartItems;var _useSelector2=useSelector(function(state){return state.user;}),user=_useSelector2.user;var subtotal=cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0);var shippingCharges=subtotal>1000?0:200;var tax=subtotal*0.18;var totalPrice=subtotal+tax+shippingCharges;var address=\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.state,\", \").concat(shippingInfo.pinCode,\", \").concat(shippingInfo.country);var proceedToPayment=function proceedToPayment(){var data={subtotal:subtotal,shippingCharges:shippingCharges,tax:tax,totalPrice:totalPrice};sessionStorage.setItem(\"orderInfo\",JSON.stringify(data));history.push(\"/process/payment\");};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(MetaData,{title:\"Confirm Order\"}),/*#__PURE__*/React.createElement(CheckoutSteps,{activeStep:1}),/*#__PURE__*/React.createElement(\"div\",{className:\"confirmOrderPage\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"confirmshippingArea\"},/*#__PURE__*/React.createElement(Typography,null,\"Delivery Info\"),/*#__PURE__*/React.createElement(\"div\",{className:\"confirmshippingAreaBox\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Name:\"),/*#__PURE__*/React.createElement(\"span\",null,user.name)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Phone:\"),/*#__PURE__*/React.createElement(\"span\",null,shippingInfo.phoneNo)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Address:\"),/*#__PURE__*/React.createElement(\"span\",null,address)))),/*#__PURE__*/React.createElement(\"div\",{className:\"confirmCartItems\"},/*#__PURE__*/React.createElement(Typography,null,\"Your Cart Items:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"confirmCartItemsContainer\"},cartItems&&cartItems.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{key:item.product},/*#__PURE__*/React.createElement(\"img\",{src:item.image,alt:\"Product\"}),/*#__PURE__*/React.createElement(Link,{to:\"/product/\".concat(item.product)},item.name),\" \",/*#__PURE__*/React.createElement(\"span\",null,item.quantity,\" X $\",item.price,\" =\",\" \",/*#__PURE__*/React.createElement(\"b\",null,\"$\",item.price*item.quantity)));})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"orderSummary\"},/*#__PURE__*/React.createElement(Typography,null,\"Order Summary\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Subtotal:\"),/*#__PURE__*/React.createElement(\"span\",null,\"$\",subtotal)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Shipping Charges:\"),/*#__PURE__*/React.createElement(\"span\",null,\"$\",shippingCharges)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"GST:\"),/*#__PURE__*/React.createElement(\"span\",null,\"$\",tax))),/*#__PURE__*/React.createElement(\"div\",{className:\"orderSummaryTotal\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Total:\")),/*#__PURE__*/React.createElement(\"span\",null,\"$\",totalPrice)),/*#__PURE__*/React.createElement(\"button\",{onClick:proceedToPayment},\"Proceed To Payment\")))));};export default ConfirmOrder;","map":{"version":3,"names":["React","Fragment","CheckoutSteps","useSelector","MetaData","Link","Typography","ConfirmOrder","history","state","cart","shippingInfo","cartItems","user","subtotal","reduce","acc","item","quantity","price","shippingCharges","tax","totalPrice","address","city","pinCode","country","proceedToPayment","data","sessionStorage","setItem","JSON","stringify","push","name","phoneNo","map","product","image"],"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Cart/ConfirmOrder.jsx"],"sourcesContent":["import React, { Fragment } from \"react\";\nimport CheckoutSteps from \"./CheckoutSteps\";\nimport { useSelector } from \"react-redux\";\nimport MetaData from \"../layout/MetaData\";\nimport \"./ConfirmOrder.css\";\nimport { Link } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\n\nconst ConfirmOrder = ({ history }) => {\n  const { shippingInfo, cartItems } = useSelector((state) => state.cart);\n  const { user } = useSelector((state) => state.user);\n\n  const subtotal = cartItems.reduce(\n    (acc, item) => acc + item.quantity * item.price,\n    0\n  );\n\n  const shippingCharges = subtotal > 1000 ? 0 : 200;\n\n  const tax = subtotal * 0.18;\n\n  const totalPrice = subtotal + tax + shippingCharges;\n\n  const address = `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.state}, ${shippingInfo.pinCode}, ${shippingInfo.country}`;\n\n  const proceedToPayment = () => {\n    const data = {\n      subtotal,\n      shippingCharges,\n      tax,\n      totalPrice,\n    };\n\n    sessionStorage.setItem(\"orderInfo\", JSON.stringify(data));\n\n    history.push(\"/process/payment\");\n  };\n\n  return (\n    <Fragment>\n      <MetaData title=\"Confirm Order\" />\n      <CheckoutSteps activeStep={1} />\n      <div className=\"confirmOrderPage\">\n        <div>\n          <div className=\"confirmshippingArea\">\n            <Typography>Delivery Info</Typography>\n            <div className=\"confirmshippingAreaBox\">\n              <div>\n                <p>Name:</p>\n                <span>{user.name}</span>\n              </div>\n              <div>\n                <p>Phone:</p>\n                <span>{shippingInfo.phoneNo}</span>\n              </div>\n              <div>\n                <p>Address:</p>\n                <span>{address}</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"confirmCartItems\">\n            <Typography>Your Cart Items:</Typography>\n            <div className=\"confirmCartItemsContainer\">\n              {cartItems &&\n                cartItems.map((item) => (\n                  <div key={item.product}>\n                    <img src={item.image} alt=\"Product\" />\n                    <Link to={`/product/${item.product}`}>\n                      {item.name}\n                    </Link>{\" \"}\n                    <span>\n                      {item.quantity} X ${item.price} ={\" \"}\n                      <b>${item.price * item.quantity}</b>\n                    </span>\n                  </div>\n                ))}\n            </div>\n          </div>\n        </div>\n        {/*  */}\n        <div>\n          <div className=\"orderSummary\">\n            <Typography>Order Summary</Typography>\n            <div>\n              <div>\n                <p>Subtotal:</p>\n                <span>${subtotal}</span>\n              </div>\n              <div>\n                <p>Shipping Charges:</p>\n                <span>${shippingCharges}</span>\n              </div>\n              <div>\n                <p>GST:</p>\n                <span>${tax}</span>\n              </div>\n            </div>\n\n            <div className=\"orderSummaryTotal\">\n              <p>\n                <b>Total:</b>\n              </p>\n              <span>${totalPrice}</span>\n            </div>\n\n            <button onClick={proceedToPayment}>Proceed To Payment</button>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default ConfirmOrder;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}