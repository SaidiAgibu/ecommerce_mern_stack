{"ast":null,"code":"import _slicedToArray from\"/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import'./AllProducts.css';import Products from'../Product/Product';import Loader from'../Loader/Loader';import{useDispatch,useSelector}from'react-redux';import{getProduct}from'../../actions/productAction';import Pagination from'react-js-pagination';import Slider from'@material-ui/core/Slider';import Typography from'@material-ui/core/Typography';import{useAlert}from'react-alert';import{clearErrors}from'../../actions/productAction';var categories=[\"Laptop\",\"Shoes\",\"Tops\",\"Camera\",\"food\"];var AllProducts=function AllProducts(_ref){var match=_ref.match;var dispatch=useDispatch();var alert=useAlert();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),rating=_useState6[0],setRating=_useState6[1];var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products,loading=_useSelector.loading,error=_useSelector.error,productsCount=_useSelector.productsCount,resultPerPage=_useSelector.resultPerPage;var keyword=match.params.keyword;var setCurrentPageNo=function setCurrentPageNo(e){setCurrentPage(e);};useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}dispatch(getProduct(keyword,currentPage,category,rating));},[dispatch,keyword,currentPage,category,rating,alert,error]);//let count = filteredProductsCount;\nreturn/*#__PURE__*/React.createElement(Fragment,null,loading?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",{className:\"productsHeading\"},\"Products\"),/*#__PURE__*/React.createElement(\"div\",{className:\"products\"},products&&products.map(function(product){return/*#__PURE__*/React.createElement(Products,{key:product._id,product:product});})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterBox\"},/*#__PURE__*/React.createElement(Typography,null,\"Categories\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"categoryBox\"},categories.map(function(category){return/*#__PURE__*/React.createElement(\"li\",{className:\"category-link\",key:category,onClick:function onClick(){return setCategory(category);}},category);})),/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(Typography,{component:\"legend\"},\"Ratings Above\"),/*#__PURE__*/React.createElement(Slider,{value:rating,onChange:function onChange(e,newRating){setRating(newRating);},\"aria-labelledby\":\"continuous-slider\",min:0,max:5,valueLabelDisplay:\"auto\"}))),resultPerPage<productsCount&&/*#__PURE__*/React.createElement(\"div\",{className:\"paginationBox\"},/*#__PURE__*/React.createElement(Pagination,{activePage:currentPage,itemsCountPerPage:resultPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:\"Next\",prevPageText:\"Prev\",firstPageText:\"1st\",lastPageText:\"Last\",itemClass:\"page-item\",linkClass:\"page-link\",activeClass:\"pageItemActive\",activeLinkClass:\"pageLinkActive\"}))));};export default AllProducts;","map":{"version":3,"names":["React","Fragment","useEffect","useState","Products","Loader","useDispatch","useSelector","getProduct","Pagination","Slider","Typography","useAlert","clearErrors","categories","AllProducts","match","dispatch","alert","currentPage","setCurrentPage","category","setCategory","rating","setRating","state","products","loading","error","productsCount","resultPerPage","keyword","params","setCurrentPageNo","e","map","product","_id","newRating"],"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Product/AllProducts.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport './AllProducts.css';\nimport Products from '../Product/Product';\nimport Loader from '../Loader/Loader';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProduct } from '../../actions/productAction';\nimport Pagination from 'react-js-pagination';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport {useAlert} from 'react-alert';\nimport {clearErrors} from '../../actions/productAction';\n\nconst categories = [\n    \"Laptop\",\n    \"Shoes\",\n    \"Tops\",\n    \"Camera\",\n    \"food\"\n]\n\nconst AllProducts = ({match}) => {\n    const dispatch = useDispatch();\n\n    const alert = useAlert()\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [category, setCategory] = useState(\"\")\n\n    const [rating, setRating] = useState(0)\n\n\n    const {products,loading,error, productsCount, resultPerPage} = useSelector(\n        (state) => state.products\n    );\n\n    const keyword = match.params.keyword;\n\n    const setCurrentPageNo = (e) => {\n        setCurrentPage(e)\n    }\n\n    \n\n    useEffect(() => {\n        if(error) {\n            alert.error(error);\n            dispatch(clearErrors())\n        }\n        dispatch(getProduct(keyword,currentPage,category,rating));\n    }, [dispatch, keyword,currentPage,category,rating,alert,error]);\n    \n    //let count = filteredProductsCount;\n\n  return (\n  <Fragment>\n    {loading ? (\n    <Loader /> \n    ): (\n    <Fragment>\n        <h2 className='productsHeading'>Products</h2>\n\n        <div className='products'>\n            {products &&\n            products.map((product) => (\n                <Products key={product._id} product={product} />\n            ))}\n        </div>\n\n        <div className='filterBox'>\n            <Typography>Categories</Typography>\n            <ul className=\"categoryBox\">\n                {categories.map((category) => (\n                    <li\n                    className='category-link'\n                    key={category}\n                    onClick={() => setCategory(category)}\n                    >\n                        {category}\n                    </li>\n                ))}\n            </ul>\n\n            <fieldset>\n                <Typography component=\"legend\">Ratings Above</Typography>\n                <Slider\n                value={rating}\n                onChange={(e,newRating) => {\n                    setRating(newRating);\n                }}\n                aria-labelledby=\"continuous-slider\"\n                min={0}\n                max={5}\n                valueLabelDisplay=\"auto\" />\n            </fieldset>\n            \n        </div>\n       \n       {resultPerPage < productsCount && (\n         <div className=\"paginationBox\">\n         <Pagination\n         activePage={currentPage}\n         itemsCountPerPage={resultPerPage}\n         totalItemsCount={productsCount}\n         onChange={setCurrentPageNo}\n         nextPageText=\"Next\"\n         prevPageText=\"Prev\"\n         firstPageText=\"1st\"\n         lastPageText=\"Last\"\n         itemClass='page-item'\n         linkClass='page-link'\n         activeClass='pageItemActive'\n         activeLinkClass='pageLinkActive'\n         />\n     </div>\n       )}\n        </Fragment>\n        )}\n  </Fragment>\n  );\n};\n\nexport default AllProducts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}