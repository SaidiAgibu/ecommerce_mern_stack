{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Route/ProtectedRoute.jsx\";\nimport React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nconst ProtectedRoute = _ref => {\n  let {\n    isAdmin,\n    component: Component,\n    ...rest\n  } = _ref;\n  const {\n    loading,\n    isAuthenticated,\n    user\n  } = useSelector(state => state.user);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, loading === false && /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: props => {\n      if (isAuthenticated === false) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15,\n            columnNumber: 22\n          }\n        });\n      }\n      if (isAdmin === true && user.role !== \"admin\") {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 22\n          }\n        });\n      }\n      return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 20\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  })));\n};\nexport default ProtectedRoute;","map":{"version":3,"names":["React","Fragment","useSelector","Redirect","Route","ProtectedRoute","isAdmin","component","Component","rest","loading","isAuthenticated","user","state","props","role"],"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Route/ProtectedRoute.jsx"],"sourcesContent":["import React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\n  const { loading, isAuthenticated, user } = useSelector((state) => state.user);\n\n  return (\n    <Fragment>\n      {loading === false && (\n        <Route\n          {...rest}\n          render={(props) => {\n            if (isAuthenticated === false) {\n              return <Redirect to=\"/login\" />;\n            }\n\n            if (isAdmin === true && user.role !== \"admin\") {\n              return <Redirect to=\"/login\" />;\n            }\n\n            return <Component {...props} />;\n          }}\n        />\n      )}\n    </Fragment>\n  );\n};\n\nexport default ProtectedRoute;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,QAAQ,EAAEC,KAAK,QAAQ,kBAAkB;AAElD,MAAMC,cAAc,GAAG,QAAgD;EAAA,IAA/C;IAAEC,OAAO;IAAEC,SAAS,EAAEC,SAAS;IAAE,GAAGC;EAAK,CAAC;EAChE,MAAM;IAAEC,OAAO;IAAEC,eAAe;IAAEC;EAAK,CAAC,GAAGV,WAAW,CAAEW,KAAK,IAAKA,KAAK,CAACD,IAAI,CAAC;EAE7E,oBACE,oBAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACNF,OAAO,KAAK,KAAK,iBAChB,oBAAC,KAAK,oBACAD,IAAI;IACR,MAAM,EAAGK,KAAK,IAAK;MACjB,IAAIH,eAAe,KAAK,KAAK,EAAE;QAC7B,oBAAO,oBAAC,QAAQ;UAAC,EAAE,EAAC,QAAQ;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAAG;MACjC;MAEA,IAAIL,OAAO,KAAK,IAAI,IAAIM,IAAI,CAACG,IAAI,KAAK,OAAO,EAAE;QAC7C,oBAAO,oBAAC,QAAQ;UAAC,EAAE,EAAC,QAAQ;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAAG;MACjC;MAEA,oBAAO,oBAAC,SAAS,oBAAKD,KAAK;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAI;IACjC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEL,CACQ;AAEf,CAAC;AAED,eAAeT,cAAc"},"metadata":{},"sourceType":"module"}