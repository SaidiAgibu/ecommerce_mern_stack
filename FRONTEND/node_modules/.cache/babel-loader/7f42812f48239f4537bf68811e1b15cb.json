{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/frontend/src/components/atoms/Search/Search.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Button from 'components/atoms/Button/Button';\nimport { setSearchValues as setSearchValuesAction } from 'actions';\nconst SearchWrapper = styled.form`\n  display: flex;\n  align-items: center;\n  height: 100%;\n  transition: all 0.3s;\n  opacity: ${({\n  active\n}) => active ? '1' : '0'};\n  background-color: transparent;\n  ${({\n  isTopnav\n}) => isTopnav && css`\n      position: absolute;\n      right: -100px;\n      bottom: -70px;\n      transform: ${({\n  active\n}) => active ? 'translateY(0) scale(1)' : 'translateY(-15px) scale(0.8)'};\n      visibility: ${({\n  active\n}) => active ? 'visible' : 'hidden'};\n    `}\n`;\nconst InnerWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  position: relative;\n  border: ${({\n  isTopnav,\n  theme\n}) => isTopnav ? `3px solid ${theme.blue50}` : 'none'};\n  border-radius: 4px;\n  &:before {\n    display: ${({\n  isTopnav\n}) => isTopnav ? 'block' : 'none'};\n    content: '';\n    cursor: default;\n    position: absolute;\n    right: 110px;\n    top: -16px;\n    width: 0;\n    height: 0;\n    border-left: 11px solid transparent;\n    border-right: 11px solid transparent;\n    border-bottom: 14px solid ${({\n  theme\n}) => theme.blue50};\n  }\n`;\nconst SearchInput = styled.input`\n  display: block;\n  font-size: ${({\n  theme\n}) => theme.fontSize.xsm};\n  padding: 11px 18px;\n  border-bottom: ${({\n  isTopnav\n}) => !isTopnav && '1px solid rgba(129, 129, 129, 0.2);'};\n`;\nconst StyledButton = styled(Button)`\n  border-radius: 0;\n  margin: 0;\n  padding: 11px !important;\n  font-size: ${({\n  theme\n}) => theme.fontSize.xsm} !important;\n  font-weight: ${({\n  theme\n}) => theme.medium};\n  ${({\n  isTopnav\n}) => isTopnav && css`\n      padding: 15px !important;\n    `}\n`;\n\nconst Search = ({\n  close,\n  isVisible,\n  closeSearch,\n  topnav\n}) => {\n  const [isRedirect, setRedirect] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const dispatch = useDispatch();\n  const searchRef = useRef(null);\n\n  const handleInputChange = e => {\n    setSearchValue(e.target.value);\n  };\n\n  const cleanup = () => {\n    setSearchValue('');\n    closeSearch();\n    if (close) close();\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(setSearchValuesAction('search', searchValue));\n    setRedirect(true);\n    cleanup();\n  };\n\n  useEffect(() => {\n    if (isVisible) searchRef.current.focus();else searchRef.current.blur();\n    setRedirect(false);\n  }, [isRedirect, isVisible]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isRedirect && /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/catalog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 22\n    }\n  }), /*#__PURE__*/React.createElement(SearchWrapper, {\n    isTopnav: topnav,\n    onSubmit: handleSubmit,\n    active: isVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InnerWrapper, {\n    isTopnav: topnav,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchInput, {\n    onChange: e => handleInputChange(e),\n    placeholder: \"Search...\",\n    value: searchValue,\n    ref: searchRef,\n    isTopnav: topnav,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(StyledButton, {\n    isTopnav: topnav,\n    type: \"submit\",\n    secondary: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, \"Submit\"))));\n};\n\nSearch.propTypes = {\n  isVisible: PropTypes.bool.isRequired,\n  closeSearch: PropTypes.func.isRequired,\n  topnav: PropTypes.bool,\n  close: PropTypes.func\n};\nSearch.defaultProps = {\n  close: null,\n  topnav: false\n};\nexport default Search;","map":{"version":3,"sources":["/home/saidi/Desktop/TAYLOR+GOODS/frontend/src/components/atoms/Search/Search.js"],"names":["React","useState","useEffect","useRef","useDispatch","Redirect","styled","css","PropTypes","Button","setSearchValues","setSearchValuesAction","SearchWrapper","form","active","isTopnav","InnerWrapper","div","theme","blue50","SearchInput","input","fontSize","xsm","StyledButton","medium","Search","close","isVisible","closeSearch","topnav","isRedirect","setRedirect","searchValue","setSearchValue","dispatch","searchRef","handleInputChange","e","target","value","cleanup","handleSubmit","preventDefault","current","focus","blur","propTypes","bool","isRequired","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Button from 'components/atoms/Button/Button';\nimport { setSearchValues as setSearchValuesAction } from 'actions';\n\nconst SearchWrapper = styled.form`\n  display: flex;\n  align-items: center;\n  height: 100%;\n  transition: all 0.3s;\n  opacity: ${({ active }) => (active ? '1' : '0')};\n  background-color: transparent;\n  ${({ isTopnav }) =>\n    isTopnav &&\n    css`\n      position: absolute;\n      right: -100px;\n      bottom: -70px;\n      transform: ${({ active }) =>\n        active ? 'translateY(0) scale(1)' : 'translateY(-15px) scale(0.8)'};\n      visibility: ${({ active }) => (active ? 'visible' : 'hidden')};\n    `}\n`;\n\nconst InnerWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  position: relative;\n  border: ${({ isTopnav, theme }) =>\n    isTopnav ? `3px solid ${theme.blue50}` : 'none'};\n  border-radius: 4px;\n  &:before {\n    display: ${({ isTopnav }) => (isTopnav ? 'block' : 'none')};\n    content: '';\n    cursor: default;\n    position: absolute;\n    right: 110px;\n    top: -16px;\n    width: 0;\n    height: 0;\n    border-left: 11px solid transparent;\n    border-right: 11px solid transparent;\n    border-bottom: 14px solid ${({ theme }) => theme.blue50};\n  }\n`;\n\nconst SearchInput = styled.input`\n  display: block;\n  font-size: ${({ theme }) => theme.fontSize.xsm};\n  padding: 11px 18px;\n  border-bottom: ${({ isTopnav }) =>\n    !isTopnav && '1px solid rgba(129, 129, 129, 0.2);'};\n`;\n\nconst StyledButton = styled(Button)`\n  border-radius: 0;\n  margin: 0;\n  padding: 11px !important;\n  font-size: ${({ theme }) => theme.fontSize.xsm} !important;\n  font-weight: ${({ theme }) => theme.medium};\n  ${({ isTopnav }) =>\n    isTopnav &&\n    css`\n      padding: 15px !important;\n    `}\n`;\n\nconst Search = ({ close, isVisible, closeSearch, topnav }) => {\n  const [isRedirect, setRedirect] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n\n  const dispatch = useDispatch();\n  const searchRef = useRef(null);\n\n  const handleInputChange = e => {\n    setSearchValue(e.target.value);\n  };\n\n  const cleanup = () => {\n    setSearchValue('');\n    closeSearch();\n    if (close) close();\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    dispatch(setSearchValuesAction('search', searchValue));\n    setRedirect(true);\n    cleanup();\n  };\n\n  useEffect(() => {\n    if (isVisible) searchRef.current.focus();\n    else searchRef.current.blur();\n\n    setRedirect(false);\n  }, [isRedirect, isVisible]);\n\n  return (\n    <>\n      {isRedirect && <Redirect to=\"/catalog\" />}\n      <SearchWrapper\n        isTopnav={topnav}\n        onSubmit={handleSubmit}\n        active={isVisible}\n      >\n        <InnerWrapper isTopnav={topnav}>\n          <SearchInput\n            onChange={e => handleInputChange(e)}\n            placeholder=\"Search...\"\n            value={searchValue}\n            ref={searchRef}\n            isTopnav={topnav}\n          />\n          <StyledButton isTopnav={topnav} type=\"submit\" secondary=\"true\">\n            Submit\n          </StyledButton>\n        </InnerWrapper>\n      </SearchWrapper>\n    </>\n  );\n};\n\nSearch.propTypes = {\n  isVisible: PropTypes.bool.isRequired,\n  closeSearch: PropTypes.func.isRequired,\n  topnav: PropTypes.bool,\n  close: PropTypes.func,\n};\n\nSearch.defaultProps = {\n  close: null,\n  topnav: false,\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}