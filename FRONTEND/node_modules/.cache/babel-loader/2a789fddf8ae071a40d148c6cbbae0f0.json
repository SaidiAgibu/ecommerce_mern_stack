{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/frontend/src/components/molecules/AddItemModal/AddForm.js\";\nimport React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport ErrorMsg from 'components/atoms/ErrorMsg/ErrorMsg';\nimport heartIcon from \"assets/icons/heart.svg\"; // eslint-disable-next-line\n\nimport PropTypes from 'prop-types';\nimport QuantityField from 'components/molecules/QuantityField/QuantityField';\nimport Button from 'components/atoms/Button/Button';\nimport Select from 'react-select';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Formik } from 'formik';\nimport { addItem, removeWishlistItem } from 'actions';\nimport { defaultStyle, errorStyle } from './SelectCustom';\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  max-width: 340px;\n  & > * {\n    margin-top: 25px;\n  }\n`;\nconst QuantityFieldWrapper = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: ${({\n  isCentered\n}) => isCentered ? 'center' : 'stretch'};\n  flex-direction: column;\n  margin-bottom: 5px;\n`;\nconst StyledButton = styled(Button)`\n  background-color: transparent;\n  color: ${({\n  theme\n}) => theme.dark};\n`;\nconst SubmitButton = styled(Button)`\n  border-radius: ${({\n  isRound\n}) => isRound ? '50px' : '4px'};\n`;\nconst InnerWrapper = styled.div`\n  ${({\n  flex\n}) => flex && css`\n      display: flex;\n    `}\n`;\nconst WishlistButton = styled.button`\n  background-color: ${({\n  theme\n}) => theme.white};\n  background: url(${heartIcon}) no-repeat center;\n  box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.25);\n  border-radius: 4px;\n  background-size: 50%;\n  margin: 10px;\n  padding: 0 28px;\n  cursor: pointer;\n  transition: 0.35s;\n  &:hover {\n    box-shadow: 0 0 8px 0 rgba(111, 179, 235, 0.8);\n  }\n  ${({\n  inWishlist\n}) => inWishlist && css`\n      background-color: ${({\n  theme\n}) => theme.white100};\n      box-shadow: 0 0 8px 0 rgba(111, 179, 235, 0.4);\n    `}\n`;\n\nconst AddForm = ({\n  redirect,\n  isModal,\n  itemData,\n  onFinishFunc\n}) => {\n  const [isErrorVisible, setErrorVisibility] = useState(false);\n  const {\n    id,\n    image,\n    price,\n    name,\n    size = []\n  } = itemData;\n  const sizeOptions = size.map(({\n    value,\n    limit\n  }) => ({\n    value,\n    label: value.toUpperCase(),\n    limit\n  }));\n  const dispatch = useDispatch();\n  const wishlistItems = useSelector(({\n    wishlist\n  }) => wishlist);\n\n  const isInWishlist = productID => {\n    return wishlistItems.some(item => productID === item.id);\n  };\n\n  const handleWishlist = productID => {\n    if (isInWishlist(productID)) {\n      dispatch(removeWishlistItem(productID, 'wishlist'));\n    } else {\n      const newWishlistItem = {\n        id,\n        image,\n        price,\n        name\n      };\n      dispatch(addItem(newWishlistItem, 'wishlist'));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      itemname: '',\n      quantity: 1\n    },\n    validate: ({\n      itemSize,\n      quantity\n    }) => {\n      const errors = {};\n\n      if (!itemSize) {\n        errors.itemSize = 'You need to select size!';\n      }\n\n      if (size.some(({\n        value,\n        limit\n      }) => value === itemSize && quantity >= limit)) {\n        setErrorVisibility(true);\n        setTimeout(() => setErrorVisibility(false), 1500);\n      }\n\n      return errors;\n    },\n    onSubmit: ({\n      itemSize,\n      quantity\n    }, {\n      setSubmitting\n    }) => {\n      const {\n        limit\n      } = sizeOptions.find(({\n        value\n      }) => value === itemSize);\n      const newItem = { ...itemData,\n        prize: itemSize,\n        limit,\n        quantity\n      };\n      dispatch(addItem(newItem, 'cart'));\n      setTimeout(() => {\n        onFinishFunc();\n        setSubmitting(false);\n      }, 1500);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, ({\n    values,\n    touched,\n    errors,\n    setFieldTouched,\n    setFieldValue,\n    handleSubmit,\n    isSubmitting\n  }) => /*#__PURE__*/React.createElement(StyledForm, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: errors.itemSize && touched.itemSize && errors.itemSize || 'Size',\n    styles: errors.itemSize && touched.itemSize && errors.itemSize ? errorStyle : defaultStyle,\n    name: \"itemSize\",\n    options: sizeOptions,\n    isOptionDisabled: option => option.limit === 0,\n    onChange: option => {\n      setFieldValue('itemSize', option.value);\n      setFieldValue('quantity', 1);\n      setFieldTouched('itemSize', false);\n    },\n    onBlur: () => setFieldTouched('itemSize', true),\n    isSearchable: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(QuantityFieldWrapper, {\n    isCentered: isModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(QuantityField, {\n    name: \"quantity\",\n    big: true,\n    subtract: () => values.quantity > 1 && setFieldValue('quantity', values.quantity - 1),\n    add: () => sizeOptions.some(({\n      value,\n      limit\n    }) => value === values.itemSize && limit > values.quantity) && setFieldValue('quantity', values.quantity + 1),\n    value: values.quantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMsg, {\n    active: isErrorVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, \"Product limit reached!\")), /*#__PURE__*/React.createElement(InnerWrapper, {\n    flex: !isModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SubmitButton, {\n    isRound: isModal,\n    disabled: isSubmitting,\n    secondary: \"true\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, \"Add to cart\"), isModal ? /*#__PURE__*/React.createElement(StyledButton, {\n    type: \"button\",\n    onClick: redirect,\n    disabled: isSubmitting,\n    secondary: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, \"View full details\") : /*#__PURE__*/React.createElement(WishlistButton, {\n    type: \"button\",\n    inWishlist: isInWishlist(id),\n    onClick: () => handleWishlist(id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }))));\n};\n\nexport default AddForm;","map":{"version":3,"sources":["/home/saidi/Desktop/TAYLOR+GOODS/frontend/src/components/molecules/AddItemModal/AddForm.js"],"names":["React","useState","styled","css","ErrorMsg","PropTypes","QuantityField","Button","Select","useDispatch","useSelector","Formik","addItem","removeWishlistItem","defaultStyle","errorStyle","StyledForm","form","QuantityFieldWrapper","div","isCentered","StyledButton","theme","dark","SubmitButton","isRound","InnerWrapper","flex","WishlistButton","button","white","heartIcon","inWishlist","white100","AddForm","redirect","isModal","itemData","onFinishFunc","isErrorVisible","setErrorVisibility","id","image","price","name","size","sizeOptions","map","value","limit","label","toUpperCase","dispatch","wishlistItems","wishlist","isInWishlist","productID","some","item","handleWishlist","newWishlistItem","itemname","quantity","itemSize","errors","setTimeout","setSubmitting","find","newItem","prize","values","touched","setFieldTouched","setFieldValue","handleSubmit","isSubmitting","option"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport ErrorMsg from 'components/atoms/ErrorMsg/ErrorMsg';\nimport heartIcon from 'assets/icons/heart.svg';\n// eslint-disable-next-line\nimport PropTypes from 'prop-types';\nimport QuantityField from 'components/molecules/QuantityField/QuantityField';\nimport Button from 'components/atoms/Button/Button';\nimport Select from 'react-select';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Formik } from 'formik';\nimport { addItem, removeWishlistItem } from 'actions';\nimport { defaultStyle, errorStyle } from './SelectCustom';\n\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  max-width: 340px;\n  & > * {\n    margin-top: 25px;\n  }\n`;\n\nconst QuantityFieldWrapper = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: ${({ isCentered }) => (isCentered ? 'center' : 'stretch')};\n  flex-direction: column;\n  margin-bottom: 5px;\n`;\n\nconst StyledButton = styled(Button)`\n  background-color: transparent;\n  color: ${({ theme }) => theme.dark};\n`;\n\nconst SubmitButton = styled(Button)`\n  border-radius: ${({ isRound }) => (isRound ? '50px' : '4px')};\n`;\n\nconst InnerWrapper = styled.div`\n  ${({ flex }) =>\n    flex &&\n    css`\n      display: flex;\n    `}\n`;\n\nconst WishlistButton = styled.button`\n  background-color: ${({ theme }) => theme.white};\n  background: url(${heartIcon}) no-repeat center;\n  box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.25);\n  border-radius: 4px;\n  background-size: 50%;\n  margin: 10px;\n  padding: 0 28px;\n  cursor: pointer;\n  transition: 0.35s;\n  &:hover {\n    box-shadow: 0 0 8px 0 rgba(111, 179, 235, 0.8);\n  }\n  ${({ inWishlist }) =>\n    inWishlist &&\n    css`\n      background-color: ${({ theme }) => theme.white100};\n      box-shadow: 0 0 8px 0 rgba(111, 179, 235, 0.4);\n    `}\n`;\n\n\nconst AddForm = ({ redirect, isModal, itemData, onFinishFunc }) => {\n  const [isErrorVisible, setErrorVisibility] = useState(false);\n  const { id, image, price, name, size = [] } = itemData;\n  \n  const sizeOptions = size.map(({ value, limit }) => ({\n    value,\n    label: value.toUpperCase(),\n    limit,\n  }));\n\n\n\n\n  const dispatch = useDispatch();\n  const wishlistItems = useSelector(({ wishlist }) => wishlist);\n\n  const isInWishlist = productID => {\n    return wishlistItems.some(item => productID === item.id);\n  };\n\n  const handleWishlist = productID => {\n    if (isInWishlist(productID)) {\n      dispatch(removeWishlistItem(productID, 'wishlist'));\n    } else {\n      const newWishlistItem = { id, image, price, name };\n      dispatch(addItem(newWishlistItem, 'wishlist'));\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={{ itemname: '', quantity: 1 }}\n      validate={({ itemSize, quantity }) => {\n        const errors = {};\n        if (!itemSize) {\n          errors.itemSize = 'You need to select size!';\n        }\n        if (\n          size.some(\n            ({ value, limit }) => value === itemSize && quantity >= limit,\n          )\n        ) {\n          setErrorVisibility(true);\n          setTimeout(() => setErrorVisibility(false), 1500);\n        }\n        return errors;\n      }}\n      onSubmit={({ itemSize, quantity }, { setSubmitting }) => {\n        const { limit } = sizeOptions.find(({ value }) => value === itemSize);\n        const newItem = {\n          ...itemData,\n          prize: itemSize,\n          limit,\n          quantity,\n        };\n        dispatch(addItem(newItem, 'cart'));\n        setTimeout(() => {\n          onFinishFunc();\n          setSubmitting(false);\n        }, 1500);\n      }}\n    >\n      {({\n        values,\n        touched,\n        errors,\n        setFieldTouched,\n        setFieldValue,\n        handleSubmit,\n        isSubmitting,\n      }) => (\n        <StyledForm onSubmit={handleSubmit}>\n          <Select\n            placeholder={\n              (errors.itemSize && touched.itemSize && errors.itemSize) || 'Size'\n            }\n            styles={\n              errors.itemSize && touched.itemSize && errors.itemSize\n                ? errorStyle\n                : defaultStyle\n            }\n            name=\"itemSize\"\n            options={sizeOptions}\n            isOptionDisabled={option => option.limit === 0}\n            onChange={option => {\n              setFieldValue('itemSize', option.value);\n              setFieldValue('quantity', 1);\n              setFieldTouched('itemSize', false);\n            }}\n            onBlur={() => setFieldTouched('itemSize', true)}\n            isSearchable={false}\n          />\n          <QuantityFieldWrapper isCentered={isModal}>\n            <QuantityField\n              name=\"quantity\"\n              big\n              subtract={() =>\n                values.quantity > 1 &&\n                setFieldValue('quantity', values.quantity - 1)\n              }\n              add={() =>\n                sizeOptions.some(\n                  ({ value, limit }) =>\n                    value === values.itemSize && limit > values.quantity,\n                ) && setFieldValue('quantity', values.quantity + 1)\n              }\n              value={values.quantity}\n            />\n            <ErrorMsg active={isErrorVisible}>Product limit reached!</ErrorMsg>\n          </QuantityFieldWrapper>\n          <InnerWrapper flex={!isModal}>\n            <SubmitButton\n              isRound={isModal}\n              disabled={isSubmitting}\n              secondary=\"true\"\n              type=\"submit\"\n            >\n              Add to cart\n            </SubmitButton>\n            {isModal ? (\n              <StyledButton\n                type=\"button\"\n                onClick={redirect}\n                disabled={isSubmitting}\n                secondary=\"true\"\n              >\n                View full details\n              </StyledButton>\n            ) : (\n              <WishlistButton\n                type=\"button\"\n                inWishlist={isInWishlist(id)}\n\n            onClick={() => handleWishlist(id)}\n              />\n            )}\n          </InnerWrapper>\n        </StyledForm>\n      )}\n    </Formik>\n  );\n};\n\nexport default AddForm;\n\n\n"]},"metadata":{},"sourceType":"module"}