{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Product/AllProducts.jsx\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport './AllProducts.css';\nimport Product from '../Product/Product';\nimport Loader from '../Loader/Loader';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProduct } from '../../actions/productAction';\nimport Pagination from 'react-js-pagination';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport { useAlert } from 'react-alert';\nimport { clearErrors } from '../../actions/productAction';\nconst categories = [\"Laptop\", \"Footwear\", \"Bottom\", \"Tops\", \"Attire\", \"Camera\", \"SmartPhones\"];\nconst AllProducts = _ref => {\n  let {\n    match\n  } = _ref;\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [category, setCategory] = useState(\"\");\n  const [ratings, setRatings] = useState(0);\n  const [isFilterBoxOpen, setFilterBoxOpen] = useState(false);\n  const {\n    products,\n    loading,\n    error,\n    productsCount,\n    resultPerPage,\n    filteredProductsCount\n  } = useSelector(state => state.products);\n  const keyword = match.params.keyword;\n  const setCurrentPageNo = e => {\n    setCurrentPage(e);\n  };\n  let count = filteredProductsCount;\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n    dispatch(getProduct(keyword, currentPage, category, ratings));\n  }, [dispatch, keyword, currentPage, category, ratings, alert, error]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"productsHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Products\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, products && products.map(product => /*#__PURE__*/React.createElement(Product, {\n    key: product._id,\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }))), \"' '\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filterBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, \"Categories\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"categoryBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, categories.map(category => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"category-link\",\n    key: category,\n    onClick: () => setCategory(category),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, category))), /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"Ratings Above\"), /*#__PURE__*/React.createElement(Slider, {\n    value: ratings,\n    onChange: (e, newRating) => {\n      setRatings(newRating);\n    },\n    \"aria-labelledby\": \"continuous-slider\",\n    valueLabelDisplay: \"auto\",\n    min: 0,\n    max: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }))), resultPerPage < count && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"paginationBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    activePage: currentPage,\n    itemsCountPerPage: resultPerPage,\n    totalItemsCount: productsCount,\n    onChange: setCurrentPageNo,\n    nextPageText: \"Next\",\n    prevPageText: \"Prev\",\n    firstPageText: \"1st\",\n    lastPageText: \"Last\",\n    itemClass: \"page-item\",\n    linkClass: \"page-link\",\n    activeClass: \"pageItemActive\",\n    activeLinkClass: \"pageLinkActive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }))));\n};\nexport default AllProducts;","map":{"version":3,"names":["React","Fragment","useEffect","useState","Product","Loader","useDispatch","useSelector","getProduct","Pagination","Slider","Typography","useAlert","clearErrors","categories","AllProducts","match","dispatch","alert","currentPage","setCurrentPage","category","setCategory","ratings","setRatings","isFilterBoxOpen","setFilterBoxOpen","products","loading","error","productsCount","resultPerPage","filteredProductsCount","state","keyword","params","setCurrentPageNo","e","count","map","product","_id","newRating"],"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Product/AllProducts.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport './AllProducts.css';\nimport Product from '../Product/Product';\nimport Loader from '../Loader/Loader';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProduct } from '../../actions/productAction';\nimport Pagination from 'react-js-pagination';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport {useAlert} from 'react-alert';\nimport {clearErrors} from '../../actions/productAction';\n\nconst categories = [\n    \"Laptop\",\n    \"Footwear\",\n    \"Bottom\",\n    \"Tops\",\n    \"Attire\",\n    \"Camera\",\n    \"SmartPhones\",\n  ];\n  \n  const AllProducts = ({ match }) => {\n    const dispatch = useDispatch();\n  \n    const alert = useAlert();\n  \n    const [currentPage, setCurrentPage] = useState(1);\n    \n    const [category, setCategory] = useState(\"\");\n  \n    const [ratings, setRatings] = useState(0);\n\n    const [isFilterBoxOpen, setFilterBoxOpen] = useState(false);\n  \n    const {\n      products,\n      loading,\n      error,\n      productsCount,\n      resultPerPage,\n      filteredProductsCount,\n    } = useSelector((state) => state.products);\n  \n    const keyword = match.params.keyword;\n  \n    const setCurrentPageNo = (e) => {\n      setCurrentPage(e);\n    };\n  \n    let count = filteredProductsCount;\n  \n    useEffect(() => {\n      if (error) {\n        alert.error(error);\n        dispatch(clearErrors());\n      }\n  \n      dispatch(getProduct(keyword, currentPage, category, ratings));\n    }, [dispatch, keyword, currentPage, category, ratings, alert, error]);\n  \n    return (\n      <Fragment>\n        {loading ? (\n          <Loader />\n        ) : (\n          <Fragment>\n            \n            <h2 className=\"productsHeading\">Products</h2>\n  \n            <div className=\"products\">\n              {products &&\n                products.map((product) => (\n                  <Product key={product._id} product={product} />\n                ))}\n            </div>'\n            '\n  \n            <div className=\"filterBox\">\n              <Typography>Categories</Typography>\n              <ul className=\"categoryBox\">\n                {categories.map((category) => (\n                  <li\n                    className=\"category-link\"\n                    key={category}\n                    onClick={() => setCategory(category)}\n                  >\n                    {category}\n                  </li>\n                ))}\n              </ul>\n  \n              <fieldset>\n                <Typography component=\"legend\">Ratings Above</Typography>\n                <Slider\n                  value={ratings}\n                  onChange={(e, newRating) => {\n                    setRatings(newRating);\n                  }}\n                  aria-labelledby=\"continuous-slider\"\n                  valueLabelDisplay=\"auto\"\n                  min={0}\n                  max={5}\n                />\n              </fieldset>\n            </div>\n            {resultPerPage < count && (\n              <div className=\"paginationBox\">\n                <Pagination\n                  activePage={currentPage}\n                  itemsCountPerPage={resultPerPage}\n                  totalItemsCount={productsCount}\n                  onChange={setCurrentPageNo}\n                  nextPageText=\"Next\"\n                  prevPageText=\"Prev\"\n                  firstPageText=\"1st\"\n                  lastPageText=\"Last\"\n                  itemClass=\"page-item\"\n                  linkClass=\"page-link\"\n                  activeClass=\"pageItemActive\"\n                  activeLinkClass=\"pageLinkActive\"\n                />\n              </div>\n            )}\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  };\n  \n  export default AllProducts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}