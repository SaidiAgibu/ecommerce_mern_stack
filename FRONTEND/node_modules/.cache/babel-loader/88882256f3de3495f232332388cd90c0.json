{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/User/UpdatePassword.jsx\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport \"./UpdatePassword.css\";\nimport Loader from \"../Loader/Loader\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { clearErrors, updatePassword } from \"../../actions/userAction\";\nimport { useAlert } from \"react-alert\";\nimport { UPDATE_PASSWORD_RESET } from \"../../constants/userConstants\";\nimport MetaData from \"../layout/MetaData\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\nconst UpdatePassword = _ref => {\n  let {\n    history\n  } = _ref;\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const {\n    error,\n    isUpdated,\n    loading\n  } = useSelector(state => state.profile);\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const updatePasswordSubmit = e => {\n    e.preventDefault();\n    const myForm = new FormData();\n    myForm.set(\"oldPassword\", oldPassword);\n    myForm.set(\"newPassword\", newPassword);\n    myForm.set(\"confirmPassword\", confirmPassword);\n    dispatch(updatePassword(myForm));\n  };\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n    if (isUpdated) {\n      alert.success(\"Profile Updated Successfully\");\n      history.push(\"/account\");\n      dispatch({\n        type: UPDATE_PASSWORD_RESET\n      });\n    }\n  }, [dispatch, error, alert, history, isUpdated]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MetaData, {\n    title: \"Change Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"updatePasswordContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"updatePasswordBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"updatePasswordHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Update Profile\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"updatePasswordForm\",\n    onSubmit: updatePasswordSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(VpnKeyIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Old Password\",\n    required: true,\n    value: oldPassword,\n    onChange: e => setOldPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LockOpenIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"New Password\",\n    required: true,\n    value: newPassword,\n    onChange: e => setNewPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LockIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    required: true,\n    value: confirmPassword,\n    onChange: e => setConfirmPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Change\",\n    className: \"updatePasswordBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }))))));\n};\nexport default UpdatePassword;","map":{"version":3,"names":["React","Fragment","useState","useEffect","Loader","useDispatch","useSelector","clearErrors","updatePassword","useAlert","UPDATE_PASSWORD_RESET","MetaData","LockOpenIcon","LockIcon","VpnKeyIcon","UpdatePassword","history","dispatch","alert","error","isUpdated","loading","state","profile","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","updatePasswordSubmit","e","preventDefault","myForm","FormData","set","success","push","type","target","value"],"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/User/UpdatePassword.jsx"],"sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\nimport \"./UpdatePassword.css\";\nimport Loader from \"../Loader/Loader\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { clearErrors, updatePassword } from \"../../actions/userAction\";\nimport { useAlert } from \"react-alert\";\nimport { UPDATE_PASSWORD_RESET } from \"../../constants/userConstants\";\nimport MetaData from \"../layout/MetaData\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\n\nconst UpdatePassword = ({ history }) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const { error, isUpdated, loading } = useSelector((state) => state.profile);\n\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const updatePasswordSubmit = (e) => {\n    e.preventDefault();\n\n    const myForm = new FormData();\n\n    myForm.set(\"oldPassword\", oldPassword);\n    myForm.set(\"newPassword\", newPassword);\n    myForm.set(\"confirmPassword\", confirmPassword);\n\n    dispatch(updatePassword(myForm));\n  };\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (isUpdated) {\n      alert.success(\"Profile Updated Successfully\");\n\n      history.push(\"/account\");\n\n      dispatch({\n        type: UPDATE_PASSWORD_RESET,\n      });\n    }\n  }, [dispatch, error, alert, history, isUpdated]);\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title=\"Change Password\" />\n          <div className=\"updatePasswordContainer\">\n            <div className=\"updatePasswordBox\">\n              <h2 className=\"updatePasswordHeading\">Update Profile</h2>\n\n              <form\n                className=\"updatePasswordForm\"\n                onSubmit={updatePasswordSubmit}\n              >\n                <div className=\"loginPassword\">\n                  <VpnKeyIcon />\n                  <input\n                    type=\"password\"\n                    placeholder=\"Old Password\"\n                    required\n                    value={oldPassword}\n                    onChange={(e) => setOldPassword(e.target.value)}\n                  />\n                </div>\n\n                <div className=\"loginPassword\">\n                  <LockOpenIcon />\n                  <input\n                    type=\"password\"\n                    placeholder=\"New Password\"\n                    required\n                    value={newPassword}\n                    onChange={(e) => setNewPassword(e.target.value)}\n                  />\n                </div>\n                <div className=\"loginPassword\">\n                  <LockIcon />\n                  <input\n                    type=\"password\"\n                    placeholder=\"Confirm Password\"\n                    required\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                  />\n                </div>\n                <input\n                  type=\"submit\"\n                  value=\"Change\"\n                  className=\"updatePasswordBtn\"\n                />\n              </form>\n            </div>\n          </div>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default UpdatePassword;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}