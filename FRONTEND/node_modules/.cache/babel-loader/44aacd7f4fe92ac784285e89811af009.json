{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Admin/UpdateUser.js\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useAlert } from \"react-alert\";\nimport { Button } from \"@material-ui/core\";\nimport MetaData from \"../layout/MetaData\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport VerifiedUserIcon from \"@material-ui/icons/VerifiedUser\";\nimport SideBar from \"./Sidebar\";\nimport { UPDATE_USER_RESET } from \"../../constants/userConstants\";\nimport { getUserDetails, updateUser, clearErrors } from \"../../actions/userAction\";\nimport Loader from \"../Loader/Loader\";\nconst UpdateUser = _ref => {\n  let {\n    history,\n    match\n  } = _ref;\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const {\n    loading,\n    error,\n    user\n  } = useSelector(state => state.userDetails);\n  const {\n    loading: updateLoading,\n    error: updateError,\n    isUpdated\n  } = useSelector(state => state.profile);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n  const userId = match.params.id;\n  useEffect(() => {\n    if (user && user._id !== userId) {\n      dispatch(getUserDetails(userId));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n      setRole(user.role);\n    }\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n    if (updateError) {\n      alert.error(updateError);\n      dispatch(clearErrors());\n    }\n    if (isUpdated) {\n      alert.success(\"User Updated Successfully\");\n      history.push(\"/admin/users\");\n      dispatch({\n        type: UPDATE_USER_RESET\n      });\n    }\n  }, [dispatch, alert, error, history, isUpdated, updateError, user, userId]);\n  const updateUserSubmitHandler = e => {\n    e.preventDefault();\n    const myForm = new FormData();\n    myForm.set(\"name\", name);\n    myForm.set(\"email\", email);\n    myForm.set(\"role\", role);\n    dispatch(updateUser(userId, myForm));\n  };\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MetaData, {\n    title: \"Update User\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SideBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newProductContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"form\", {\n    className: \"createProductForm\",\n    onSubmit: updateUserSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \"Update User\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(PersonIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Name\",\n    required: true,\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MailOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    required: true,\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(VerifiedUserIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    value: role,\n    onChange: e => setRole(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, \"Choose Role\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  }, \"Admin\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }, \"User\"))), /*#__PURE__*/React.createElement(Button, {\n    id: \"createProductBtn\",\n    type: \"submit\",\n    disabled: updateLoading ? true : false || role === \"\" ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, \"Update\")))));\n};\nexport default UpdateUser;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","useAlert","Button","MetaData","MailOutlineIcon","PersonIcon","VerifiedUserIcon","SideBar","UPDATE_USER_RESET","getUserDetails","updateUser","clearErrors","Loader","UpdateUser","history","match","dispatch","alert","loading","error","user","state","userDetails","updateLoading","updateError","isUpdated","profile","name","setName","email","setEmail","role","setRole","userId","params","id","_id","success","push","type","updateUserSubmitHandler","e","preventDefault","myForm","FormData","set","target","value"],"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/Admin/UpdateUser.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useAlert } from \"react-alert\";\nimport { Button } from \"@material-ui/core\";\nimport MetaData from \"../layout/MetaData\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport VerifiedUserIcon from \"@material-ui/icons/VerifiedUser\";\nimport SideBar from \"./Sidebar\";\nimport { UPDATE_USER_RESET } from \"../../constants/userConstants\";\nimport {\n  getUserDetails,\n  updateUser,\n  clearErrors,\n} from \"../../actions/userAction\";\nimport Loader from \"../Loader/Loader\";\n\nconst UpdateUser = ({ history, match }) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const { loading, error, user } = useSelector((state) => state.userDetails);\n\n  const {\n    loading: updateLoading,\n    error: updateError,\n    isUpdated,\n  } = useSelector((state) => state.profile);\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n\n  const userId = match.params.id;\n\n  useEffect(() => {\n    if (user && user._id !== userId) {\n      dispatch(getUserDetails(userId));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n      setRole(user.role);\n    }\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (updateError) {\n      alert.error(updateError);\n      dispatch(clearErrors());\n    }\n\n    if (isUpdated) {\n      alert.success(\"User Updated Successfully\");\n      history.push(\"/admin/users\");\n      dispatch({ type: UPDATE_USER_RESET });\n    }\n  }, [dispatch, alert, error, history, isUpdated, updateError, user, userId]);\n\n  const updateUserSubmitHandler = (e) => {\n    e.preventDefault();\n\n    const myForm = new FormData();\n\n    myForm.set(\"name\", name);\n    myForm.set(\"email\", email);\n    myForm.set(\"role\", role);\n\n    dispatch(updateUser(userId, myForm));\n  };\n\n  return (\n    <Fragment>\n      <MetaData title=\"Update User\" />\n      <div className=\"dashboard\">\n        <SideBar />\n        <div className=\"newProductContainer\">\n          {loading ? (\n            <Loader />\n          ) : (\n            <form\n              className=\"createProductForm\"\n              onSubmit={updateUserSubmitHandler}\n            >\n              <h1>Update User</h1>\n\n              <div>\n                <PersonIcon />\n                <input\n                  type=\"text\"\n                  placeholder=\"Name\"\n                  required\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                />\n              </div>\n              <div>\n                <MailOutlineIcon />\n                <input\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  required\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n              </div>\n\n              <div>\n                <VerifiedUserIcon />\n                <select value={role} onChange={(e) => setRole(e.target.value)}>\n                  <option value=\"\">Choose Role</option>\n                  <option value=\"admin\">Admin</option>\n                  <option value=\"user\">User</option>\n                </select>\n              </div>\n\n              <Button\n                id=\"createProductBtn\"\n                type=\"submit\"\n                disabled={\n                  updateLoading ? true : false || role === \"\" ? true : false\n                }\n              >\n                Update\n              </Button>\n            </form>\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default UpdateUser;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,OAAOC,QAAQ,MAAM,oBAAoB;AACzC,OAAOC,eAAe,MAAM,gCAAgC;AAC5D,OAAOC,UAAU,MAAM,2BAA2B;AAClD,OAAOC,gBAAgB,MAAM,iCAAiC;AAC9D,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,iBAAiB,QAAQ,+BAA+B;AACjE,SACEC,cAAc,EACdC,UAAU,EACVC,WAAW,QACN,0BAA0B;AACjC,OAAOC,MAAM,MAAM,kBAAkB;AAErC,MAAMC,UAAU,GAAG,QAAwB;EAAA,IAAvB;IAAEC,OAAO;IAAEC;EAAM,CAAC;EACpC,MAAMC,QAAQ,GAAGhB,WAAW,EAAE;EAC9B,MAAMiB,KAAK,GAAGhB,QAAQ,EAAE;EAExB,MAAM;IAAEiB,OAAO;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAGrB,WAAW,CAAEsB,KAAK,IAAKA,KAAK,CAACC,WAAW,CAAC;EAE1E,MAAM;IACJJ,OAAO,EAAEK,aAAa;IACtBJ,KAAK,EAAEK,WAAW;IAClBC;EACF,CAAC,GAAG1B,WAAW,CAAEsB,KAAK,IAAKA,KAAK,CAACK,OAAO,CAAC;EAEzC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC+B,KAAK,EAAEC,QAAQ,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiC,IAAI,EAAEC,OAAO,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAMmC,MAAM,GAAGlB,KAAK,CAACmB,MAAM,CAACC,EAAE;EAE9BtC,SAAS,CAAC,MAAM;IACd,IAAIuB,IAAI,IAAIA,IAAI,CAACgB,GAAG,KAAKH,MAAM,EAAE;MAC/BjB,QAAQ,CAACP,cAAc,CAACwB,MAAM,CAAC,CAAC;IAClC,CAAC,MAAM;MACLL,OAAO,CAACR,IAAI,CAACO,IAAI,CAAC;MAClBG,QAAQ,CAACV,IAAI,CAACS,KAAK,CAAC;MACpBG,OAAO,CAACZ,IAAI,CAACW,IAAI,CAAC;IACpB;IACA,IAAIZ,KAAK,EAAE;MACTF,KAAK,CAACE,KAAK,CAACA,KAAK,CAAC;MAClBH,QAAQ,CAACL,WAAW,EAAE,CAAC;IACzB;IAEA,IAAIa,WAAW,EAAE;MACfP,KAAK,CAACE,KAAK,CAACK,WAAW,CAAC;MACxBR,QAAQ,CAACL,WAAW,EAAE,CAAC;IACzB;IAEA,IAAIc,SAAS,EAAE;MACbR,KAAK,CAACoB,OAAO,CAAC,2BAA2B,CAAC;MAC1CvB,OAAO,CAACwB,IAAI,CAAC,cAAc,CAAC;MAC5BtB,QAAQ,CAAC;QAAEuB,IAAI,EAAE/B;MAAkB,CAAC,CAAC;IACvC;EACF,CAAC,EAAE,CAACQ,QAAQ,EAAEC,KAAK,EAAEE,KAAK,EAAEL,OAAO,EAAEW,SAAS,EAAED,WAAW,EAAEJ,IAAI,EAAEa,MAAM,CAAC,CAAC;EAE3E,MAAMO,uBAAuB,GAAIC,CAAC,IAAK;IACrCA,CAAC,CAACC,cAAc,EAAE;IAElB,MAAMC,MAAM,GAAG,IAAIC,QAAQ,EAAE;IAE7BD,MAAM,CAACE,GAAG,CAAC,MAAM,EAAElB,IAAI,CAAC;IACxBgB,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEhB,KAAK,CAAC;IAC1Bc,MAAM,CAACE,GAAG,CAAC,MAAM,EAAEd,IAAI,CAAC;IAExBf,QAAQ,CAACN,UAAU,CAACuB,MAAM,EAAEU,MAAM,CAAC,CAAC;EACtC,CAAC;EAED,oBACE,oBAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACP,oBAAC,QAAQ;IAAC,KAAK,EAAC,aAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eAChC;IAAK,SAAS,EAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACxB,oBAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACX;IAAK,SAAS,EAAC,qBAAqB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACjCzB,OAAO,gBACN,oBAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,gBAEV;IACE,SAAS,EAAC,mBAAmB;IAC7B,QAAQ,EAAEsB,uBAAwB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAElC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAI,aAAW,CAAK,eAEpB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACd;IACE,IAAI,EAAC,MAAM;IACX,WAAW,EAAC,MAAM;IAClB,QAAQ;IACR,KAAK,EAAEb,IAAK;IACZ,QAAQ,EAAGc,CAAC,IAAKb,OAAO,CAACa,CAAC,CAACK,MAAM,CAACC,KAAK,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACzC,CACE,eACN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,eAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACnB;IACE,IAAI,EAAC,OAAO;IACZ,WAAW,EAAC,OAAO;IACnB,QAAQ;IACR,KAAK,EAAElB,KAAM;IACb,QAAQ,EAAGY,CAAC,IAAKX,QAAQ,CAACW,CAAC,CAACK,MAAM,CAACC,KAAK,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAC1C,CACE,eAEN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,gBAAgB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACpB;IAAQ,KAAK,EAAEhB,IAAK;IAAC,QAAQ,EAAGU,CAAC,IAAKT,OAAO,CAACS,CAAC,CAACK,MAAM,CAACC,KAAK,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC5D;IAAQ,KAAK,EAAC,EAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,aAAW,CAAS,eACrC;IAAQ,KAAK,EAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,OAAK,CAAS,eACpC;IAAQ,KAAK,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,MAAI,CAAS,CAC3B,CACL,eAEN,oBAAC,MAAM;IACL,EAAE,EAAC,kBAAkB;IACrB,IAAI,EAAC,QAAQ;IACb,QAAQ,EACNxB,aAAa,GAAG,IAAI,GAAG,KAAK,IAAIQ,IAAI,KAAK,EAAE,GAAG,IAAI,GAAG,KACtD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACF,QAED,CAAS,CAEZ,CACG,CACF,CACG;AAEf,CAAC;AAED,eAAelB,UAAU"},"metadata":{},"sourceType":"module"}