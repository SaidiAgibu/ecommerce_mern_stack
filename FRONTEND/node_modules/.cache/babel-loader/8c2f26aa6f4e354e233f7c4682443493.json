{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/frontend/src/views/DetailsView.js\";\nimport React, { useState, useEffect } from 'react';\nimport DetailsTemplate from 'templates/DetailsTemplate';\nimport { useLocation } from 'react-router-dom';\nimport { API_URL } from 'actions';\nimport useLoader from 'hooks/useLoader';\nimport axios from 'axios';\nimport PageLoader from 'components/molecules/PageLoader/PageLoader';\nimport NotFoundTemplate from 'templates/NotFoundTemplate';\n\nconst DetailsView = () => {\n  const [isNotFound, setIsNotFound] = useState(false);\n  const [productData, setProductData] = useState({\n    id: null,\n    name: '',\n    description: '',\n    category: '',\n    image: '',\n    size: [],\n    price: null\n  });\n  const {\n    pathname\n  } = useLocation();\n  const [slug] = pathname.split('/').reverse();\n  const loading = useLoader();\n  useEffect(() => {\n    const fetchProductData = async () => {\n      try {\n        const {\n          data\n        } = await axios.get(`${API_URL}/products/${slug}`);\n        const itemData = {\n          id: data.id,\n          name: data.name,\n          description: data.description,\n          category: data.category.name,\n          image: data.image,\n          //size: data.size,\n          price: data.price.toFixed(2)\n        };\n        setProductData(itemData);\n      } catch (err) {\n        setIsNotFound(true);\n      }\n    };\n\n    fetchProductData();\n  }, [slug]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageLoader, {\n    isActive: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), isNotFound ? /*#__PURE__*/React.createElement(NotFoundTemplate, {\n    type: \"Product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(DetailsTemplate, {\n    productData: productData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default DetailsView;","map":{"version":3,"sources":["/home/saidi/Desktop/TAYLOR+GOODS/frontend/src/views/DetailsView.js"],"names":["React","useState","useEffect","DetailsTemplate","useLocation","API_URL","useLoader","axios","PageLoader","NotFoundTemplate","DetailsView","isNotFound","setIsNotFound","productData","setProductData","id","name","description","category","image","size","price","pathname","slug","split","reverse","loading","fetchProductData","data","get","itemData","toFixed","err"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,4CAAvB;AACA,OAAOC,gBAAP,MAA6B,4BAA7B;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACxB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC;AAC7Cc,IAAAA,EAAE,EAAE,IADyC;AAE7CC,IAAAA,IAAI,EAAE,EAFuC;AAG7CC,IAAAA,WAAW,EAAE,EAHgC;AAI7CC,IAAAA,QAAQ,EAAE,EAJmC;AAK7CC,IAAAA,KAAK,EAAE,EALsC;AAM7CC,IAAAA,IAAI,EAAE,EANuC;AAO7CC,IAAAA,KAAK,EAAE;AAPsC,GAAD,CAA9C;AAUA,QAAM;AAAEC,IAAAA;AAAF,MAAelB,WAAW,EAAhC;AACA,QAAM,CAACmB,IAAD,IAASD,QAAQ,CAACE,KAAT,CAAe,GAAf,EAAoBC,OAApB,EAAf;AACA,QAAMC,OAAO,GAAGpB,SAAS,EAAzB;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMyB,gBAAgB,GAAG,YAAY;AACnC,UAAI;AACF,cAAM;AAAEC,UAAAA;AAAF,YAAW,MAAMrB,KAAK,CAACsB,GAAN,CAAW,GAAExB,OAAQ,aAAYkB,IAAK,EAAtC,CAAvB;AACA,cAAMO,QAAQ,GAAG;AACff,UAAAA,EAAE,EAAEa,IAAI,CAACb,EADM;AAEfC,UAAAA,IAAI,EAAEY,IAAI,CAACZ,IAFI;AAGfC,UAAAA,WAAW,EAAEW,IAAI,CAACX,WAHH;AAIfC,UAAAA,QAAQ,EAAEU,IAAI,CAACV,QAAL,CAAcF,IAJT;AAKfG,UAAAA,KAAK,EAAES,IAAI,CAACT,KALG;AAMf;AACAE,UAAAA,KAAK,EAAEO,IAAI,CAACP,KAAL,CAAWU,OAAX,CAAmB,CAAnB;AAPQ,SAAjB;AASAjB,QAAAA,cAAc,CAACgB,QAAD,CAAd;AACD,OAZD,CAYE,OAAOE,GAAP,EAAY;AACZpB,QAAAA,aAAa,CAAC,IAAD,CAAb;AACD;AACF,KAhBD;;AAiBAe,IAAAA,gBAAgB;AACjB,GAnBQ,EAmBN,CAACJ,IAAD,CAnBM,CAAT;AAqBA,sBACE,uDACE,oBAAC,UAAD;AAAY,IAAA,QAAQ,EAAEG,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGf,UAAU,gBACT,oBAAC,gBAAD;AAAkB,IAAA,IAAI,EAAC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADS,gBAGT,oBAAC,eAAD;AAAiB,IAAA,WAAW,EAAEE,WAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADF;AAUD,CA/CD;;AAiDA,eAAeH,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DetailsTemplate from 'templates/DetailsTemplate';\nimport { useLocation } from 'react-router-dom';\nimport { API_URL } from 'actions';\nimport useLoader from 'hooks/useLoader';\nimport axios from 'axios';\nimport PageLoader from 'components/molecules/PageLoader/PageLoader';\nimport NotFoundTemplate from 'templates/NotFoundTemplate';\n\nconst DetailsView = () => {\n  const [isNotFound, setIsNotFound] = useState(false);\n  const [productData, setProductData] = useState({\n    id: null,\n    name: '',\n    description: '',\n    category: '',\n    image: '',\n    size: [],\n    price: null,\n  });\n\n  const { pathname } = useLocation();\n  const [slug] = pathname.split('/').reverse();\n  const loading = useLoader();\n\n  useEffect(() => {\n    const fetchProductData = async () => {\n      try {\n        const { data } = await axios.get(`${API_URL}/products/${slug}`);\n        const itemData = {\n          id: data.id,\n          name: data.name,\n          description: data.description,\n          category: data.category.name,\n          image: data.image,\n          //size: data.size,\n          price: data.price.toFixed(2),\n        };\n        setProductData(itemData);\n      } catch (err) {\n        setIsNotFound(true);\n      }\n    };\n    fetchProductData();\n  }, [slug]);\n\n  return (\n    <>\n      <PageLoader isActive={loading} />\n      {isNotFound ? (\n        <NotFoundTemplate type=\"Product\" />\n      ) : (\n        <DetailsTemplate productData={productData} />\n      )}\n    </>\n  );\n};\n\nexport default DetailsView;\n"]},"metadata":{},"sourceType":"module"}