{"ast":null,"code":"var _jsxFileName = \"/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/ProductDetails/ProductDetails.jsx\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Carousel from \"react-material-ui-carousel\";\nimport \"./ProductDetails.css\";\n\nconst ProductDetails = ({\n  match\n}) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const {\n    product,\n    loading,\n    error\n  } = useSelector(state => state.productDetails);\n  const {\n    success,\n    error: reviewError\n  } = useSelector(state => state.newReview);\n  const options = {\n    size: \"large\",\n    value: product.ratings,\n    readOnly: true,\n    precision: 0.5\n  };\n  const [quantity, setQuantity] = useState(1);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n\n  const increaseQuantity = () => {\n    if (product.Stock <= quantity) return;\n    const qty = quantity + 1;\n    setQuantity(qty);\n  };\n\n  const decreaseQuantity = () => {\n    if (1 >= quantity) return;\n    const qty = quantity - 1;\n    setQuantity(qty);\n  };\n  /*const addToCartHandler = () => {\n    dispatch(addItemsToCart(match.params.id, quantity));\n    alert.success(\"Item Added To Cart\");\n  };\n  */\n\n\n  const submitReviewToggle = () => {\n    open ? setOpen(false) : setOpen(true);\n  };\n\n  const reviewSubmitHandler = () => {\n    const myForm = new FormData();\n    myForm.set(\"rating\", rating);\n    myForm.set(\"comment\", comment);\n    myForm.set(\"productId\", match.params.id);\n    dispatch(newReview(myForm));\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (reviewError) {\n      alert.error(reviewError);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success(\"Review Submitted Successfully\");\n      dispatch({\n        type: NEW_REVIEW_RESET\n      });\n    }\n\n    dispatch(getProductDetails(match.params.id));\n  }, [dispatch, match.params.id, error, alert, reviewError, success]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MetaData, {\n    title: `${product.name} -- ECOMMERCE`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, product.images && product.images.map((item, i) => /*#__PURE__*/React.createElement(\"img\", {\n    className: \"CarouselImage\",\n    key: i,\n    src: item.url,\n    alt: `${i} Slide`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"Product # \", product._id)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Rating, Object.assign({}, options, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"detailsBlock-2-span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \" \", \"(\", product.numOfReviews, \" Reviews)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, `â‚¹${product.price}`), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-3-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-3-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: decreaseQuantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"input\", {\n    readOnly: true,\n    type: \"number\",\n    value: quantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: increaseQuantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, \"+\")), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: product.Stock < 1 ? true : false,\n    onClick: \"addToCartHandler\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, \"Add to Cart\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"Status:\", /*#__PURE__*/React.createElement(\"b\", {\n    className: product.Stock < 1 ? \"redColor\" : \"greenColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, product.Stock < 1 ? \"OutOfStock\" : \"InStock\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsBlock-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, \"Description : \", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 31\n    }\n  }, product.description)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: submitReviewToggle,\n    className: \"submitReview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, \"Submit Review\"))), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"reviewsHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, \"REVIEWS\"), /*#__PURE__*/React.createElement(Dialog, {\n    \"aria-labelledby\": \"simple-dialog-title\",\n    open: open,\n    onClose: submitReviewToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"Submit Review\"), /*#__PURE__*/React.createElement(DialogContent, {\n    className: \"submitDialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    onChange: e => setRating(e.target.value),\n    value: rating,\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"submitDialogTextArea\",\n    cols: \"30\",\n    rows: \"5\",\n    value: comment,\n    onChange: e => setComment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: submitReviewToggle,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: reviewSubmitHandler,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, \"Submit\"))), product.reviews && product.reviews[0] ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"noReviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, \"No Reviews Yet\")));\n};\n\nexport default ProductDetails;","map":{"version":3,"sources":["/home/saidi/Desktop/TAYLOR+GOODS/FRONTEND/src/components/ProductDetails/ProductDetails.jsx"],"names":["React","Fragment","useEffect","useState","Carousel","ProductDetails","match","dispatch","useDispatch","alert","useAlert","product","loading","error","useSelector","state","productDetails","success","reviewError","newReview","options","size","value","ratings","readOnly","precision","quantity","setQuantity","open","setOpen","rating","setRating","comment","setComment","increaseQuantity","Stock","qty","decreaseQuantity","submitReviewToggle","reviewSubmitHandler","myForm","FormData","set","params","id","clearErrors","type","NEW_REVIEW_RESET","getProductDetails","name","images","map","item","i","url","_id","numOfReviews","price","description","e","target","reviews"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport Carousel from \"react-material-ui-carousel\";\nimport \"./ProductDetails.css\";\n\n\nconst ProductDetails = ({ match }) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const { product, loading, error } = useSelector(\n    (state) => state.productDetails\n  );\n\n  const { success, error: reviewError } = useSelector(\n    (state) => state.newReview\n  );\n\n  const options = {\n    size: \"large\",\n    value: product.ratings,\n    readOnly: true,\n    precision: 0.5,\n  };\n\n  const [quantity, setQuantity] = useState(1);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n\n  const increaseQuantity = () => {\n    if (product.Stock <= quantity) return;\n\n    const qty = quantity + 1;\n    setQuantity(qty);\n  };\n\n  const decreaseQuantity = () => {\n    if (1 >= quantity) return;\n\n    const qty = quantity - 1;\n    setQuantity(qty);\n  };\n\n  /*const addToCartHandler = () => {\n    dispatch(addItemsToCart(match.params.id, quantity));\n    alert.success(\"Item Added To Cart\");\n  };\n*/\n  const submitReviewToggle = () => {\n    open ? setOpen(false) : setOpen(true);\n  };\n\n  const reviewSubmitHandler = () => {\n    const myForm = new FormData();\n\n    myForm.set(\"rating\", rating);\n    myForm.set(\"comment\", comment);\n    myForm.set(\"productId\", match.params.id);\n\n    dispatch(newReview(myForm));\n\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (reviewError) {\n      alert.error(reviewError);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success(\"Review Submitted Successfully\");\n      dispatch({ type: NEW_REVIEW_RESET });\n    }\n    dispatch(getProductDetails(match.params.id));\n  }, [dispatch, match.params.id, error, alert, reviewError, success]);\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title={`${product.name} -- ECOMMERCE`} />\n          <div className=\"ProductDetails\">\n            <div>\n              <Carousel>\n                {product.images &&\n                  product.images.map((item, i) => (\n                    <img\n                      className=\"CarouselImage\"\n                      key={i}\n                      src={item.url}\n                      alt={`${i} Slide`}\n                    />\n                  ))}\n              </Carousel>\n            </div>\n\n            <div>\n              <div className=\"detailsBlock-1\">\n                <h2>{product.name}</h2>\n                <p>Product # {product._id}</p>\n              </div>\n              <div className=\"detailsBlock-2\">\n                <Rating {...options} />\n                <span className=\"detailsBlock-2-span\">\n                  {\" \"}\n                  ({product.numOfReviews} Reviews)\n                </span>\n              </div>\n              <div className=\"detailsBlock-3\">\n                <h1>{`â‚¹${product.price}`}</h1>\n                <div className=\"detailsBlock-3-1\">\n                  <div className=\"detailsBlock-3-1-1\">\n                    <button onClick={decreaseQuantity}>-</button>\n                    <input readOnly type=\"number\" value={quantity} />\n                    <button onClick={increaseQuantity}>+</button>\n                  </div>\n                  <button\n                    disabled={product.Stock < 1 ? true : false}\n                    onClick={\"addToCartHandler\"}\n                  >\n                    Add to Cart\n                  </button>\n                </div>\n\n                <p>\n                  Status:\n                  <b className={product.Stock < 1 ? \"redColor\" : \"greenColor\"}>\n                    {product.Stock < 1 ? \"OutOfStock\" : \"InStock\"}\n                  </b>\n                </p>\n              </div>\n\n              <div className=\"detailsBlock-4\">\n                Description : <p>{product.description}</p>\n              </div>\n\n              <button onClick={submitReviewToggle} className=\"submitReview\">\n                Submit Review\n              </button>\n            </div>\n          </div>\n\n          <h3 className=\"reviewsHeading\">REVIEWS</h3>\n\n          <Dialog\n            aria-labelledby=\"simple-dialog-title\"\n            open={open}\n            onClose={submitReviewToggle}\n          >\n            <DialogTitle>Submit Review</DialogTitle>\n            <DialogContent className=\"submitDialog\">\n              <Rating\n                onChange={(e) => setRating(e.target.value)}\n                value={rating}\n                size=\"large\"\n              />\n\n              <textarea\n                className=\"submitDialogTextArea\"\n                cols=\"30\"\n                rows=\"5\"\n                value={comment}\n                onChange={(e) => setComment(e.target.value)}\n              ></textarea>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={submitReviewToggle} color=\"secondary\">\n                Cancel\n              </Button>\n              <Button onClick={reviewSubmitHandler} color=\"primary\">\n                Submit\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n          {product.reviews && product.reviews[0] ? (\n            <div className=\"reviews\">\n              \n            </div>\n          ) : (\n            <p className=\"noReviews\">No Reviews Yet</p>\n          )}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}